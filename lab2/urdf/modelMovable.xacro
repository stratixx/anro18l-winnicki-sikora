<?xml version="1.0"?>
<robot name="PatoBombelSon" xmlns:xacro="http://ros.org/wiki/xacro">

	<xacro:property name="pi" value="3.1415" />

	<material name="blue">
		<color rgba="0 0 0.8 1"/>
	</material>

	<material name="black">
		<color rgba="0 0 0 1"/>
	</material>

	<material name="white">
		<color rgba="1 1 1 1"/>
	</material>


	<xacro:macro name="segmentMacro" params="name rpy xyz size">
		<link name="${name}">
			<visual>
				<geometry>
					<box size="${size}"/>
				</geometry>
				<material name="blue"/>
				<origin rpy="${rpy}" xyz="${xyz}"/>
			</visual>
		</link>	
	</xacro:macro>
	
	<xacro:macro name="jointContinuous" params="parent child origin_xyz axis_rpy axis_xyz">
		<joint name="${parent}_to_${child}_joint_continuous" type="continuous">
			<limit effort="1000.0" lower="0.0" upper="1.0" velocity="0.5"/>
			<axis rpy="${axis_rpy}" xyz="${axis_xyz}"/>
			<parent link="${parent}"/>
			<child link="${child}"/>
			<origin xyz="${origin_xyz}"/>
		</joint>
	</xacro:macro>

	<xacro:segmentMacro name="base"      rpy="0 0 0" xyz="0 0 0.1"          size="0.2 0.2 0.2"/>
	<xacro:segmentMacro name="segment_1" rpy="0 0 0" xyz="0 0 ${0.45+0.01}" size="0.1 0.1 0.5"/>
	<xacro:segmentMacro name="segment_2" rpy="0 0 0" xyz="0 0 ${0.95+0.02}" size="0.1 0.1 0.5"/>
	<xacro:segmentMacro name="gripper"   rpy="0 0 0" xyz="0 0 ${1.25+0.03}" size="0.1 0.1 0.1"/>

	<xacro:jointContinuous parent="base"      child="segment_1" origin_xyz="0 0 0.2"  axis_rpy="0 0 1" axis_xyz="0 0 0.2"/>
	<xacro:jointContinuous parent="segment_1" child="segment_2" origin_xyz="0 0 0.90" axis_rpy="0 1 0" axis_xyz="0 0 1.1"/>
	<xacro:jointContinuous parent="segment_2" child="gripper"   origin_xyz="0 0 1.5"  axis_rpy="1 0 0" axis_xyz="0 0 1.9"/>

</robot>
